<?php// module/User/Module.phpnamespace User;use Zend\ModuleManager\Feature\AutoloaderProviderInterface;use Zend\Authentication\Storage;use Zend\Authentication\AuthenticationService;use Zend\Authentication\Adapter\DbTable as DbTableAuthAdapter;use User\Model\User;use User\Model\UserTable;use Zend\Db\ResultSet\ResultSet;use Zend\Db\TableGateway\TableGateway;class Module implements AutoloaderProviderInterface{	public function getAutoloaderConfig()	{		return array(					'Zend\Loader\ClassMapAutoloader' => array(					__DIR__ . '/autoload_classmap.php',					),					'Zend\Loader\StandardAutoloader' => array(					'namespaces' => array(						__NAMESPACE__ => __DIR__ . '/src/' . __NAMESPACE__,						),					),		);	}	public function getConfig()	{		return include __DIR__ . '/config/module.config.php';	}		public function getServiceConfig()    {        return array(			'factories'=>array(				'User\Model\UserTable' => function($sm) {						$tableGateway = $sm->get('UserTableGateway');						$table = new UserTable($tableGateway);						return $table;				},				'UserTableGateway' => function ($sm) {					$dbAdapter = $sm->get('Zend\Db\Adapter\Adapter');					$resultSetPrototype = new ResultSet();					$resultSetPrototype->setArrayObjectPrototype(new User());					return new TableGateway('userinfo', $dbAdapter, null, $resultSetPrototype);				},				'AuthService' => function($sm) {					//My assumption, you've alredy set dbAdapter					//and has users table with columns : user_name and pass_word					//that password hashed with md5					$dbAdapter           = $sm->get('Zend\Db\Adapter\Adapter');					$dbTableAuthAdapter  = new DbTableAuthAdapter($dbAdapter,'userinfo','username','password', 'MD5(?)');					 					$authService = new AuthenticationService();					$authService->setAdapter($dbTableAuthAdapter);					//$authService->setStorage('userinfo');					  					return $authService;				},			),        );    }}